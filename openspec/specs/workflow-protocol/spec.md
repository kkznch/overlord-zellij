## Purpose
四天王（業火・氷結・常闇・疾風）間の連動ルールと負荷分散パイプラインプロトコルを定義する。各将の専門領域と受け渡しフローを規定する。

## Requirements

### Requirement: 氷結が先に構造を定義
氷結の将は、業火が実装を開始する前に型・インターフェース・ディレクトリ構造を定義しなければならない (SHALL)。

#### Scenario: 型定義の引き渡し
- **WHEN** 新機能が要求された時
- **THEN** 氷結が trait/struct 定義を作成する
- **THEN** 業火がその定義を使ってロジックを実装する

### Requirement: 業火は純粋なロジックに集中
業火の将はビジネスロジックとアルゴリズムのみに集中し、UIやドキュメントは扱ってはならない (SHALL)。

#### Scenario: ロジック実装
- **WHEN** 業火が氷結から型定義を受け取った時
- **THEN** 業火はコアロジックのみを実装する
- **THEN** 業火はCSS、README、UIコードを書かない

### Requirement: 常闇がテストを担当
常闇の将は業火の代わりにテストコードを生成し、デバッグを行わなければならない (SHALL)。

#### Scenario: テスト生成
- **WHEN** 業火がロジック実装を完了した時
- **THEN** 常闇がその実装のテストケースを作成する
- **THEN** 常闇がバグを報告し、業火に修正を依頼する

### Requirement: 疾風が外装を担当
疾風の将は全UIコンポーネント・ドキュメント・ユーザー向けコンテンツを並行して作成しなければならない (SHALL)。

#### Scenario: ドキュメント作成
- **WHEN** 業火のロジックが利用可能になった時
- **THEN** 疾風がREADMEとAPIドキュメントを作成する
- **THEN** 必要に応じて疾風がフロントエンドコンポーネントを実装する

### Requirement: 儀式にパイプライン指示を含める
各儀式プロンプトは、他の将から何を受け取り、何を渡すかの指示を含まなければならない (SHALL)。

#### Scenario: パイプライン指示の存在
- **WHEN** 将に儀式が注入された時
- **THEN** プロンプトに「○○から受け取る」「○○に渡す」の指示が含まれる

### Requirement: 四天王は即動の法に従う
四天王はメッセージを受信したら確認・質問をせず即座に作業を開始しなければならない (SHALL)。

#### Scenario: 即時作業開始
- **WHEN** 四天王がメッセージを受信した時
- **THEN** 確認や質問を返さず即座に作業を開始する

#### Scenario: 不明点の自己判断
- **WHEN** 四天王がメッセージの内容に不明点がある時
- **THEN** 自分の専門知識で判断し、作業を進めながら報告する

#### Scenario: 即時引き渡し
- **WHEN** 四天王が作業を完了した時
- **THEN** 即座に `send_message` で次の工程に引き渡す

### Requirement: 軍師は即応の法に従う
軍師は魔王からの命令を受けたら即座にタスク分解して配分を開始しなければならない (SHALL)。

#### Scenario: 即時タスク分解
- **WHEN** 軍師が魔王からの命令を受けた時
- **THEN** 即座にタスク分解して四天王に配分する

#### Scenario: 確認の禁止
- **WHEN** 軍師が命令内容に不明点がある時
- **THEN** 魔王に質問・確認を返さず自分の判断で補完する
